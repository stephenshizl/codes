#!/bin/bash

MACH=$1
FLASH_HOME=""
IMG_HOME=/home/june/work/images
OUT_HOME=out/target/product/macallan
DAILY_HOME=/home/june/work/images/daily_build
TEGRA_HOME=/home/june/work/server4/work/tegra_x
WEEKLY_HOME=/home/june/work/images/weekly_build
DATE=`date +"%Y%m%d"`

all_images="recovery.img system.img boot.img bootloader.bin
		charged.bmp charging.bmp eks.dat flash.bct flash.cfg
			fullycharged.bmp lowbat.bmp nvidia.bmp tegra114-macallan.dtb
				xusb_sil_rel_fw"

case $2 in
	-a)
		images=${all_images}
		shift 1
		;;
	*)
		
		images=${@:2}
		;;
esac

if [ ${@:${#@}} == "-s" ]; then
	FLASH_HOME=$DAILY_HOME/$MACH/20140630
else
	FLASH_HOME=$TEGRA_HOME/$OUT_HOME
fi

for i in ${images[@]};do
	[ $i == "-s" ] && break
	echo "copy "$i" ..."
	cp $FLASH_HOME/$i $IMG_HOME/$MACH/
done
